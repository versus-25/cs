**env** - все переменные окружения  
файл **~/.bashrc** переменные пользователя считывается только при создании сессии source с этим файлом перезаписывает переменные в текущей сессии
**~/.bash_history** история баша юзера - не сохраняет команды с пробелом или # в начале  

**reset** - перезагрузка терминала  а не сессии  
**!!** повтор прошлой команды  

**shopt** - настройка shell  
**type** <command> тип команды, например shell built-in - type -a <comand> все вариации команды  
**shell built-in** команды встроенные в оболочку, не порождают дочерних процессов. Весь список смотреть через compgen.  
**echo $PAT** переменные среды, директории, где идет поиск команд, например /bin  
**man 3 printf** - открывается 3 страница man  
man -k <keyword>  
man -P <pager>  
bc - калькулятор и можно передать строку для выполнения

**lsof**  list open files  
**псевдофайловые системы** - не хранится на физическом накопителе
/dev виртуальное представление устройств
/proc виртуальное представление структур ядра
  
стандартные потоки - атрибут процесса, их можно перенаправлять, например ```bash 2>/dev/null```
```ls -l /root /tmp >/tmp/ls 2>&1``` - перенаправить stdin в /tmp/ls и stderr в первый поток(стандартный вывод &1) Читается сначала перенаправление, оп порядку слева направо
если какой-то файл открыт каким-то процессом и удален, то пока есть процесс файл доступен через поток, используемый процессом.
Пример восстановления ```cp /proc/1608/fd/3 /tmp/file``` fd - file descriptor перенаправляем файловый дескриптор в файл

TTY эмулятор терминала
PTY псевдоэмулятор терминала
/dev/ptmx PTY-мастер, одно виртуальное устройство, при обращении к нему оно выделяет
/dev/pts/x PTY-slave потом каждое устройство /dev/pts/x передает события вроде ввода с клавиатуры на /dev/ptmx или /dev/pts/x Те мастер проксирует обмен данными(одно устройство) с другими устройствами или терминалами

  
 
  
  
#OS
**Unix** - os разработанная в 70х
**POSIX** portable operating system interface - стандрат для ос.
Задачи ос 
1. организация процесса загрузки, runtime - системные либы, виртуальные машины  и тд
2. Интерфейс для работы с оборудованием - абстракция, позволяющая по не работать с оборудованием напрямую
3. Виртуализация и планирование использования ресурсов.
4. Передача данных локально между приложениями
5. Поддержка многопользовательского режима 
6. Виртуализация устройств
  <img width="463" alt="Снимок экрана 2022-11-20 в 14 58 53" src="https://user-images.githubusercontent.com/53166911/202898504-221e8a81-5cb0-4833-b1ef-9e5fe7f3ce57.png">
**user space** - часть для пользовательских приложений  
**kernel space** - часть для ядра - модули ядра, драйверы,управление памятью,   
**gnu c library glibc** - стандартная библиотека линукс, к нй образаются юз приложения, чтобы упростить работу с системными вызовами    
библиотечные вызовы пример libc write(). 
strace или sotruss  
```strace -p $(pgrep -f 'nginx')``` подключиться к pid процесса. 



  

  
 
